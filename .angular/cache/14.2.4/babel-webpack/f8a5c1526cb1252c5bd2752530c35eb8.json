{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/routing.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/advance-payment-service/advancepayment-service.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/material/grid-list\";\nimport * as i8 from \"ng-apexcharts\";\nconst _c0 = [\"chart\"];\n\nfunction LoanDetailsComponent_mat_card_subtitle_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card-subtitle\");\n    i0.ɵɵtext(1, \"Account status \");\n    i0.ɵɵelementStart(2, \"span\", 18);\n    i0.ɵɵtext(3, \"Active\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction LoanDetailsComponent_mat_card_subtitle_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card-subtitle\");\n    i0.ɵɵtext(1, \"Account status \");\n    i0.ɵɵelementStart(2, \"span\", 19);\n    i0.ɵɵtext(3, \"Closed\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport let LoanDetailsComponent = /*#__PURE__*/(() => {\n  class LoanDetailsComponent {\n    constructor(routingService, Activatedroute, advancepaymentService) {\n      this.routingService = routingService;\n      this.Activatedroute = Activatedroute;\n      this.advancepaymentService = advancepaymentService;\n      this.upcommingDuedate = new Date(2022, 11, 18);\n      this.principleAmount = 0;\n      this.interest = 0;\n      this.accountNumber = '';\n      this.tenure = 0;\n      this.loanStatus = '';\n      this.outStandingAmount = 0;\n      this.upcommingEMi = 0;\n      this.penaltyAmount = 0;\n    }\n\n    ngOnInit() {\n      if (!localStorage.getItem('foo')) {\n        localStorage.setItem('foo', 'no reload');\n        location.reload();\n      } else {\n        localStorage.removeItem('foo');\n      }\n\n      this.accountNumber = this.Activatedroute.snapshot.paramMap.get(\"accno\")?.toString();\n      console.log(this.accountNumber);\n      var remamt = 0;\n      this.advancepaymentService.getEmiDb(this.accountNumber).subscribe(res => {\n        console.log(res);\n\n        if (res !== null) {\n          this.accountNumber = res.loanaccno;\n          this.loanStatus = res.loan_status;\n          this.upcommingEMi = res.emi_amount;\n          remamt = res.remaining_amount;\n          this.outStandingAmount = res.remaining_amount;\n          this.upcommingDuedate = res.upcomming_payment_date;\n        } else {\n          this.routingService.accessDashboard();\n        }\n\n        this.methodB();\n      }, error => {\n        console.error('error caught in component');\n        this.routingService.accessLogin();\n      });\n      this.advancepaymentService.getLoanDetails(this.accountNumber).subscribe(res => {\n        //console.log(res);\n        if (res !== null) {\n          this.principleAmount = res.loan_amount;\n          this.tenure = res.tenure;\n          this.interest = res.interest_rate;\n        }\n\n        this.methodB();\n      });\n    }\n\n    methodB() {\n      this.chartOptions = {\n        series: [{\n          name: \"\",\n          data: [this.principleAmount, this.interest * (this.principleAmount - this.outStandingAmount) * 0.01, 0]\n        }, {\n          name: \"\",\n          data: [this.principleAmount - this.outStandingAmount, 0, this.outStandingAmount]\n        }\n        /* {\r\n          name: \"\",\r\n          data: [0, 0, 0, 0]\r\n        } */\n        ],\n        colors: [\"#FFFF00\", \"#42145f\"],\n        chart: {\n          toolbar: {\n            show: true,\n            tools: {\n              download: false\n            }\n          },\n          type: \"bar\",\n          height: 350\n        },\n        plotOptions: {\n          bar: {\n            horizontal: false,\n            columnWidth: \"50%\",\n            endingShape: \"rounded\"\n          }\n        },\n        dataLabels: {\n          enabled: false\n        },\n        stroke: {\n          show: true,\n          width: 2,\n          colors: [\"transparent\"]\n        },\n        xaxis: {\n          categories: [\"Principle vs Paid\", \"Interest Paid\", \"OutStanding amount\"]\n        },\n        yaxis: {\n          decimalsInFloat: Number,\n          title: {\n            text: \"Amount\"\n          }\n        },\n        fill: {\n          opacity: 1\n        },\n        tooltip: {\n          y: {\n            formatter: function (val) {\n              return val + \" thousand\";\n            }\n          }\n        }\n      };\n    }\n\n    accessadvancePayment() {\n      this.routingService.advancepayment(this.accountNumber);\n    }\n\n  }\n\n  LoanDetailsComponent.ɵfac = function LoanDetailsComponent_Factory(t) {\n    return new (t || LoanDetailsComponent)(i0.ɵɵdirectiveInject(i1.RoutingService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.AdvancepaymentServiceService));\n  };\n\n  LoanDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoanDetailsComponent,\n    selectors: [[\"app-loan-details\"]],\n    viewQuery: function LoanDetailsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.chart = _t.first);\n      }\n    },\n    decls: 72,\n    vars: 31,\n    consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"http-equiv\", \"X-UA-Compatible\", \"content\", \"IE=edge\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [1, \"allDetails\"], [1, \"mat-elevation-z0\"], [1, \"loanDetails\"], [1, \"classColor\"], [4, \"ngIf\"], [1, \"classFontColor\"], [\"cols\", \"2\", \"rowHeight\", \"3vh\"], [2, \"color\", \"black\"], [1, \"classFontColor\", 2, \"padding-bottom\", \"10vh\"], [\"matTooltip\", \"Info about the action\"], [\"cols\", \"3\"], [\"mat-raised-button\", \"\", 1, \"buttonTHree\", 2, \"background-color\", \"#42145f\", \"color\", \"white\", 3, \"click\"], [1, \"chart\"], [3, \"series\", \"chart\", \"dataLabels\", \"plotOptions\", \"yaxis\", \"legend\", \"fill\", \"stroke\", \"tooltip\", \"xaxis\", \"colors\"], [2, \"background-color\", \"lightgreen\", \"border-radius\", \"10px\", \"padding\", \".3vw\", \"font-size\", \"small\"], [2, \"background-color\", \"red\", \"color\", \"white\", \"border-radius\", \"10px\", \"padding\", \".3vw\", \"font-size\", \"small\"]],\n    template: function LoanDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2)(4, \"meta\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"body\")(6, \"div\")(7, \"div\", 4)(8, \"mat-card\", 5)(9, \"div\", 6)(10, \"mat-card-header\")(11, \"mat-card-title\", 7);\n        i0.ɵɵtext(12, \"Account Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(13, LoanDetailsComponent_mat_card_subtitle_13_Template, 4, 0, \"mat-card-subtitle\", 8);\n        i0.ɵɵtemplate(14, LoanDetailsComponent_mat_card_subtitle_14_Template, 4, 0, \"mat-card-subtitle\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"mat-card-content\", 9)(16, \"mat-grid-list\", 10)(17, \"mat-grid-tile\");\n        i0.ɵɵtext(18, \"Account Number\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"mat-grid-tile\", 11);\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"mat-card-content\", 9)(22, \"mat-grid-list\", 10)(23, \"mat-grid-tile\");\n        i0.ɵɵtext(24, \"Interest\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"mat-grid-tile\")(26, \"span\", 11);\n        i0.ɵɵtext(27);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(28, \"mat-card-content\", 9)(29, \"mat-grid-list\", 10)(30, \"mat-grid-tile\");\n        i0.ɵɵtext(31, \"Principle Amount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"mat-grid-tile\")(33, \"span\", 11);\n        i0.ɵɵtext(34);\n        i0.ɵɵpipe(35, \"currency\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(36, \"mat-card-content\", 9)(37, \"mat-grid-list\", 10)(38, \"mat-grid-tile\");\n        i0.ɵɵtext(39, \"Outstanding Amount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"mat-grid-tile\")(41, \"span\", 11);\n        i0.ɵɵtext(42);\n        i0.ɵɵpipe(43, \"currency\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(44, \"mat-card-content\", 9)(45, \"mat-grid-list\", 10)(46, \"mat-grid-tile\");\n        i0.ɵɵtext(47, \" Upcoming Payment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"mat-grid-tile\")(49, \"span\", 11);\n        i0.ɵɵtext(50);\n        i0.ɵɵpipe(51, \"date\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(52, \"mat-card-content\", 9)(53, \"mat-grid-list\", 10)(54, \"mat-grid-tile\");\n        i0.ɵɵtext(55, \" Upcomming EMI payment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"mat-grid-tile\")(57, \"span\", 11);\n        i0.ɵɵtext(58);\n        i0.ɵɵpipe(59, \"currency\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(60, \"mat-card-content\", 12)(61, \"mat-grid-list\", 10)(62, \"mat-grid-tile\");\n        i0.ɵɵtext(63, \" Tenure\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"mat-grid-tile\", 13)(65, \"span\", 11);\n        i0.ɵɵtext(66);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(67, \"mat-grid-list\", 14)(68, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function LoanDetailsComponent_Template_button_click_68_listener() {\n          return ctx.accessadvancePayment();\n        });\n        i0.ɵɵtext(69, \"Prepayment\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(70, \"div\", 16);\n        i0.ɵɵelement(71, \"apx-chart\", 17);\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", ctx.outStandingAmount != 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.outStandingAmount == 0);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.accountNumber);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"\", ctx.interest, \"% P.A\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(35, 20, ctx.principleAmount, \"INR\"));\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(43, 23, ctx.outStandingAmount, \"INR\"));\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(51, 26, ctx.upcommingDuedate));\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(59, 28, ctx.upcommingEMi, \"INR\"));\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate1(\"\", ctx.tenure, \" years *\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"series\", ctx.chartOptions.series)(\"chart\", ctx.chartOptions.chart)(\"dataLabels\", ctx.chartOptions.dataLabels)(\"plotOptions\", ctx.chartOptions.plotOptions)(\"yaxis\", ctx.chartOptions.yaxis)(\"legend\", ctx.chartOptions.legend)(\"fill\", ctx.chartOptions.fill)(\"stroke\", ctx.chartOptions.stroke)(\"tooltip\", ctx.chartOptions.tooltip)(\"xaxis\", ctx.chartOptions.xaxis)(\"colors\", ctx.chartOptions.colors);\n      }\n    },\n    dependencies: [i4.NgIf, i5.MatButton, i6.MatCard, i6.MatCardHeader, i6.MatCardContent, i6.MatCardTitle, i6.MatCardSubtitle, i7.MatGridList, i7.MatGridTile, i8.ChartComponent, i4.CurrencyPipe, i4.DatePipe],\n    styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Lato:wght@100&display=swap\\\";.classCapitalize[_ngcontent-%COMP%]{text-transform:capitalize}.classColor[_ngcontent-%COMP%]{color:#42145f}.classFontColor[_ngcontent-%COMP%]{color:#1d7b8a}mat-grid-tile[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.formAdv[_ngcontent-%COMP%]{height:1vh}.buttonTHree[_ngcontent-%COMP%]{margin:1vh}mat-slider[_ngcontent-%COMP%]{width:30vw}table[_ngcontent-%COMP%]{width:80%;margin:auto}.mat1list[_ngcontent-%COMP%]{width:20vw}.loanDetails[_ngcontent-%COMP%]{width:30vw}.chart[_ngcontent-%COMP%]{margin-top:-60vh;margin-left:45vw;width:50vw}@media only screen and (max-width: 430px){.chart[_ngcontent-%COMP%]{margin-top:1vh;padding-bottom:30vh;width:95vw;margin:auto}.title1[_ngcontent-%COMP%]{width:50vw}.loanDetails[_ngcontent-%COMP%]{width:75vw}}\"]\n  });\n  return LoanDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}